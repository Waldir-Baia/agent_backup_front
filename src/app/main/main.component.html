<div class="layout-container">
  <p-drawer
    class="layout-sidenav"
    [visible]="sidenavOpened()"
    position="left"
    [modal]="false"
    [showCloseIcon]="false"
    [dismissible]="false"
    [blockScroll]="false"
    [style]="{ width: '260px', boxShadow: 'none' }"
  >
    <div class="sidenav-header">
      <img class="sidenav-logo" src="assets/wbn-logo.svg" alt="WBN" />
      <div class="sidenav-header__info">
        <span class="sidenav-brand">Agent Backup</span>
        <small *ngIf="user()">Ol√°, {{ user()?.name || user()?.email }}</small>
      </div>
    </div>

    <nav class="nav-menu">
      <a
        *ngFor="let item of navItems"
        class="nav-link"
        [routerLink]="item.route"
        routerLinkActive="nav-link--active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <i [class]="item.icon"></i>
        <span>{{ item.label }}</span>
      </a>
    </nav>

    <div class="sidenav-footer">
      <button pButton label="Sair" icon="pi pi-sign-out" (click)="signOut()" class="logout-btn"></button>
    </div>
  </p-drawer>

  <div class="layout-content">
    <div class="layout-toolbar">
      <button
        pButton
        icon="pi pi-bars"
        class="toolbar-toggle p-button-text"
        (click)="toggleSidenav()"
        aria-label="Abrir menu"
      ></button>
      <span>Painel de Controle</span>
    </div>

    <section class="layout-page">
      <router-outlet />
    </section>
  </div>
</div>
