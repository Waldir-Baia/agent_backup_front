<main class="login-page">
  <section class="login-card">
    <div class="login-card__logo">
      <img src="assets/wbn-logo.svg" alt="WBN" />
    </div>
    <div class="login-card__body">
      <header class="login-card__header">
        <h1>Bem-vindo de volta</h1>
        <p>Entre com suas credenciais para continuar.</p>
      </header>

      <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-field input-wrapper">
          <label for="email">Email</label>
          <div class="input-with-icon">
            <input
              pInputText
              id="email"
              type="email"
              inputmode="email"
              formControlName="email"
              placeholder="email@empresa.com"
              autocomplete="username"
            />
          </div>
          <div
            *ngIf="loginForm.controls.email.invalid && loginForm.controls.email.touched"
            class="field-error"
          >
            <i class="pi pi-exclamation-triangle"></i>
            <span>Informe um e-mail vÃ¡lido.</span>
          </div>
        </div>

        <div class="form-field input-wrapper">
          <label for="password">Senha</label>
          <div class="input-with-icon">
            <input
              pInputText
              [type]="showPassword() ? 'text' : 'password'"
              id="password"
              formControlName="password"
              placeholder="Digite sua senha"
              autocomplete="current-password"
            />
            <button
              type="button"
              pButton
              class="eye-button"
              [icon]="showPassword() ? 'pi pi-eye-slash' : 'pi pi-eye'"
              (click)="togglePassword()"
              [text]="true"
            ></button>
          </div>
          <div
            *ngIf="loginForm.controls.password.invalid && loginForm.controls.password.touched"
            class="field-error"
          >
            <i class="pi pi-exclamation-triangle"></i>
            <span>Informe sua senha.</span>
          </div>
        </div>

        <div *ngIf="errorMessage()" class="login-error">
          <i class="pi pi-exclamation-triangle"></i>
          <span>{{ errorMessage() }}</span>
        </div>

        <button
          pButton
          type="submit"
          [disabled]="submitting()"
          class="login-form__submit"
        >
          @if (submitting()) {
            <i class="pi pi-spin pi-spinner"></i>
          }
          <span>Entrar</span>
        </button>
      </form>
    </div>
  </section>
</main>
